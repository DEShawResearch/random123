<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Random123: The u01fixedpt conversion functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Random123
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">The u01fixedpt conversion functions</div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions convert unsigned W-bit integers to uniformly spaced real values (float or double) between 0.0 and 1.0 with mantissas of M bits.  
<a href="#details">More...</a></p>
<p>These functions convert unsigned W-bit integers to uniformly spaced real values (float or double) between 0.0 and 1.0 with mantissas of M bits. </p>
<p>PLEASE THINK CAREFULLY BEFORE USING THESE FUNCTIONS. THEY MAY NOT BE WHAT YOU WANT. YOU MAY BE MUCH BETTER SERVED BY THE FUNCTIONS IN ./uniform.hpp.</p>
<p>These functions produce a finite number *uniformly spaced* values in the range from 0.0 to 1.0 with uniform probability. The price of uniform spacing is that they may not utilize the entire space of possible outputs. E.g., u01fixedpt_closed_open_32_24 will never produce a non-zero value less than 2^-24, even though such values are representable in single-precision floating point.</p>
<p>There are 12 functions, corresponding to the following choices:</p>
<ul>
<li>W = 32 or 64</li>
<li>M = 24 (float) or 53 (double)</li>
<li>open0 or closed0 : whether the output is open or closed at 0.0</li>
<li>open1 or closed1 : whether the output is open or closed at 1.0</li>
</ul>
<p>The W=64 M=24 cases are not implemented. To obtain an M=24 float from a uint64_t, use a cast (possibly with right-shift and bitwise and) to convert some of the bits of the uint64_t to a uint32_t and then use u01fixedpt_x_y_32_float. Note that the 64-bit random integers produced by the Random123 library are random in "all the bits", so with a little extra effort you can obtain two floats this way &ndash; one from the high bits and one from the low bits of the 64-bit value.</p>
<p>If the output is open at one end, then the extreme value (0.0 or 1.0) will never be returned. Conversely, if the output is closed at one end, then the extreme value is a possible return value.</p>
<p>The values returned are as follows. All values are returned with equal frequency, except as noted in the closed_closed case:</p>
<p>closed_open: Let P=min(M,W) there are 2^P possible output values: {0, 1, 2, ..., 2^P-1}/2^P</p>
<p>open_closed: Let P=min(M,W) there are 2^P possible values: {1, 2, ..., 2^P}/2^P</p>
<p>open_open: Let P=min(M, W+1) there are 2^(P-1) possible values: {1, 3, 5, ..., 2^P-1}/2^P</p>
<p>closed_closed: Let P=min(M, W-1) there are 1+2^P possible values: {0, 1, 2, ... 2^P}/2^P The extreme values (0.0 and 1.0) are returned with half the frequency of all others.</p>
<p>On x86 hardware, especially on 32bit machines, the use of internal 80bit x87-style floating point may result in 'bonus' precision, which may cause closed intervals to not be really closed, i.e. the conversions below might not convert UINT{32,64}_MAX to 1.0. This sort of issue is likely to occur when storing the output of a u01fixedpt_*_32_float function in a double, though one can imagine getting extra precision artifacts when going from 64_53 as well. Other artifacts may exist on some GPU hardware. The tests in kat_u01_main.h try to expose such issues, but caveat emptor. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 21 2021 21:04:26 for Random123 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
